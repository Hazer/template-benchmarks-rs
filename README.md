# Rust template engine benchmarks

This repo tries to assess Rust template engine performance. Following the
download ratings from [crates.io][crates], these six projects are assessed:

- [write!][write]: the std library `write!` macro
- [Handlebars][handlebars]: Handlebars templating implemented in Rust
- [Tera][tera]: template engine based on Jinja2/Django templates
- [Liquid][liquid]: the liquid templating language for Rust
- [Askama][askama]: type-safe, compiled Jinja-like templates for Rust
- [horrorshow][horrorshow]: a templating library written in rust macros
- [ructe][ructe]: Rust Compiled Templates, efficient type-safe web page templates
- [fomat][fomat]: alternative syntax for print/write/format-like macros with a small templating language

[crates]: https://crates.io/categories/template-engine
[write]: https://doc.rust-lang.org/std/macro.write.html
[handlebars]: https://github.com/sunng87/handlebars-rust
[tera]: https://github.com/Keats/tera
[liquid]: https://github.com/cobalt-org/liquid-rust
[askama]: https://github.com/djc/askama
[ructe]: https://github.com/kaj/ructe
[horrorshow]: https://github.com/Stebalien/horrorshow-rs
[fomat]: https://github.com/krdln/fomat-macros

## Results

As a [violin plot] generated by [Criterion]:

![Big table violin plot](big-table.svg)
![Teams violin plot](teams.svg)

[violin plot]: https://en.wikipedia.org/wiki/Violin_plot
[Criterion]: https://japaric.github.io/criterion.rs/

Numbers, as output by Criterion:

```
Big table/Askama        time:   [1.4346 ms 1.4398 ms 1.4463 ms]                              
Big table/fomat         time:   [444.07 us 445.77 us 447.92 us]                            
Big table/Handlebars    time:   [45.336 ms 45.458 ms 45.622 ms]                                  
Big table/Horrorshow    time:   [464.63 us 465.48 us 466.53 us]                                 
Big table/Liquid        time:   [15.288 ms 15.312 ms 15.339 ms]                              
Big table/Ructe         time:   [1.6386 ms 1.6434 ms 1.6487 ms]                             
Big table/Tera          time:   [2.9737 ms 2.9797 ms 2.9865 ms]                            
Big table/write         time:   [511.90 us 514.03 us 517.09 us]                            

Teams/Askama            time:   [2.0450 us 2.0498 us 2.0563 us]                          
Teams/fomat             time:   [645.60 ns 646.91 ns 648.61 ns]                         
Teams/Handlebars        time:   [27.164 us 27.276 us 27.406 us]                              
Teams/Horrorshow        time:   [589.45 ns 591.22 ns 593.30 ns]                              
Teams/Liquid            time:   [13.937 us 14.130 us 14.347 us]                          
Teams/Ructe             time:   [2.4333 us 2.4402 us 2.4484 us]                         
Teams/Tera              time:   [8.8062 us 8.8168 us 8.8294 us]                        
Teams/write             time:   [650.16 ns 652.62 ns 655.65 ns]                         
```

## Running the benchmarks

```bash
$ cargo bench
```

Plots will be rendered if `gnuplot` is installed and will be available in the
`target/criterion` folder.
